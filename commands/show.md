# Команда show для коммутаторов и маршрутизаторов Cisco

**Cisco IOS** в `show` служит для **вывода** различной информации об **устройстве** и **самой сети**. Выполняется как и в **пользовательском** (не все), так и в **привелегированном** режиме.

Некоторые команды, встречающиеся для маршрутизаторов, также можно использовать для коммутаторов и наоборот.

## `show` для маршрутизаторов

### `show version`

Отображает версию **Cisco IOS**, информацию о последнем запуске, перезагрузке, времени работы, установленные и используемые лицензии, вся информация о памяти (специально говорю обобщенно), `MAC`-адрес, серийный номер и, для **L3** коммутаторов, сколько устройств входит в стек и какую версию **IOS** использует каждый коммутатор.

### `show clock`

Отображает дату и время.

### `show startup-config`, `show startup-configuration`

Отображение конфигурации, хранящайся в **NVRAM**. С нее и стартует устройство. 

### `show running-config`, `show running-configuration`

Отображение текущей конфигурации, загруженной в оперативную память. Все изменения конфига сначала присваиваются `running-config`, и только потом, если пользователь решил сохранить конфиг, изменения сохраняются в `startup-config`.

```cisco
copy running-config startup-config
write memory
write
wr
```

Выше указаны возможные аналогичные действия по сохранению изменений в **NVRAM**.

Бывают случаи, когда `running-config` получился кривой. Для этого можно откатиться до `startup-config`. 

```cisco
copy startup-config running-config
```

Аналогом такой команды может послужить и простая перезагрузка.

### `show ip route`

Отображает таблицу маршрутизации **IPv4**, отображающая все маршруты, про которые знает это устройство.

Маршрутизатор может содержать несколько таблиц **VRF** (виртуальный маршрутизатор), можно вывести таблицу для конкретного **VRF**.

```cisco
show ip route vrf R2
```

Также есть возможность отображать статические маршруты, или маршруты, организованные конкретным протоколом.

```cisco
show ip route static
show ip route eigrp
```

### `show ipv6 route`

Полный аналог команды выше, только маршруты **IPv6**.

### `show interfaces`

Показ статистики и состояния для каждого физического и логического интерфейса.

Можно также просмотреть информацию о конкретном интерфейсе.

```cisco
show interfaces FastEthernet0
```

Для обнуления статистики есть команда отчистки счетчиков.

```cisco
clear counters
```

### `show ip interface brief`

Выводит краткую информацию о каждом интерфейсе в одну строку на каждый интерфейс.

Есть возможность аналогичного показа информации об интерфейсах, настроенные на **IPv6-адреса**.

```cisco
show ipv6 interface brief
```

Если интерфейсов много, отображение можно сузить, указав конкретный интерфейс, либо **VLAN SVI**.

```cisco
show ip inteface brief vlan 10
show ip inteface TenGigabitEthernet 0/0
```

### `show cdp neighbors`

Отображение информации о всех прямо подключенных **Cisco-соседей**.

### `show ntp status`

Используется для автоматической синхронизации времени с **NTP-сервером** (Network Time Protocol). Таким сервером может быть любое устройство, как, например, центральный коммутатор, либо публичный **NTP-сервер**.

### `show flash`

Отображает файлы, хранящиеся на энергонезависимой памяти (она же NVRAM). 

Бывает такое, что может быть несколько файловых систем, их можно отобразить с помощью команды:

```cisco
show file systems
```

### `show history`

Выводит историю использованных команд в период текущей сессии.

### `show logging`

Отображает логи, сохраненные в памяти журнала устройства. Стоит учесть про настроенный уровень логгирования. Например, уровень логгирования 4 будет записывать все события уровня 4 и ниже.

* 0 - emergency
* 1 - alert
* 2 - critical
* 3 - error
* 4 - warning
* 5 - notification
* 6 - informational
* 7 - debugging

Можно сузить отображаемый список логов по дате:

```cisco
show logging | include Jul 12
show logging | begin Jul 12
```

### `show protocols`

Выводит какие протоколы используются.

Также можно использовать для проверки нативных протоколов:

```cisco
show ip protocols
```

### `show users`

Список пользователей, подключенных к устройству.

```cisco
show users all
```

### `show access-lists`

Отображение всех настроенных на устройстве **ACL** (Access control list). Также можно вывести информацию о конкретном списке:

```cisco
show access-list SNMP_ACL
show access-list 10
```

### `show ip dhcp binding`, `show ip dhcp bindings`

Ее используют на устройствах, выполняющую роль **DHCP-серверов** в сети. Выводит таблицу **DHCP**, отображая **арендованные IP-адреса** по **MAC-адресам**.

### `show ip dhcp conflict`

Если у клиента вручную настроен тот же **IP-адрес**, что и у пула **DHCP**, может возникнуть конфликт адресов. Данная команда позволяет увидеть это.

### `show ip arp`

Отображение тех **MAC-адресов**, которые получили одинаковые адреса.

### `show ip dhcp pool`

Выводит настроенные пулы **IP-адресов**, выделеные для аренды устройством.

### `show ip eigrp neighbor`, `show ip eigrp neighbors`

Отображение всех соседств, обнаруженных по **EIGRP**.

### `show ip ospf neighbor`, `show ip ispf neighbors`.

В аналогии с командой выше, только протокол **OSPF**.

### `show ip nat translations`

Если маршрутизатор используется для преобразования частных диапазонов IP-адресов в публичные, то команда отображает таблицу таких преобразований, происходящих в настоящем времени.

### `show standby`

Отображает состояние протокола **HSRP**, где один маршрутизатор основной, а второй в резерве.

### `show tech-support`

Очень массивный вывод. Обычно результат этой команды запрашивает **Cisco Technical Assistance Center**. Вывод информации, состоящий из множества информационных команд о состоянии системы, ее конфигурации и т.д.

### `show processes`

Выводит все процессы, которые выполняются на данный момент.


## `show` для коммутаторов

### `show mac address-table`

Выводит все MAC-адреса, которые были изучены коммутатором.

### `show spanning tree`

Отображает информацию о протоколе **spanning tree**.

### `show etherchannel`

Выводит информацию о канале агрегации.

### `show vlan`

Отображает базу всех **vlan**.

### `show vtp status`

Отображает статус протокола **VTP** (VLAN Trunking Protocol), используемый коммутаторами для синхронизации VLAN БД коммутаторов между собой.

### `show post-security`

Выводит таблицу портов, на которых настроены использования портовой безопасности.

### `show monitor session all`

Отображение интерфейсов, переведенных в режим мониторинга (**SPAN**) для репликации пакетов с другого интерфейса либо группы интерфейсов.

### `show interfaces status`

Нужна для быстрого вывода текущего состояния всех интерфейсов.

### `show interfaces switchport`

Детальная информация о физическом интерфейсе.

### `show interfaces trunk`

Отображает интерфейсы, настроенные на **trunk**, и какой **Native VLAN** был настроен на них.
